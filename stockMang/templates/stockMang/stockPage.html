{% extends 'main/layout.html' %}
{% block title %}Stock Management{% endblock %}

{% block content %}
<style>
    /* Custom utility to hide the scrollbar.
        Added !important as a debugging step to override any conflicting styles.
    */
    .no-scrollbar::-webkit-scrollbar {
        display: none !important;
    }
    .no-scrollbar {
        -ms-overflow-style: none !important;  /* IE and Edge */
        scrollbar-width: none !important;  /* Firefox */
    }
</style>

<div class="min-h-screen bg-gray-100 flex items-center justify-center p-4">
    <!-- Outer fixed box -->
    <div class="bg-gray-200 w-full max-w-5xl h-[90vh] p-8 rounded-xl shadow-lg flex flex-col">
        <h1 class="text-3xl font-bold mb-6 text-center text-emerald-600 flex-shrink-0">Stock Management</h1>

        <!-- 
            Inner scrollable section.
        -->
        <div class="flex-1 overflow-y-auto no-scrollbar rounded-xl">
            <!-- Added 'overflow-hidden' to the table to enforce the rounded corners -->
            <table class="min-w-full bg-white rounded-lg shadow-md overflow-hidden">
                <thead class="sticky top-0">
                    <tr>
                        <th class="py-3 px-6 bg-emerald-600 text-white font-semibold text-left">Product Name</th>
                        <th class="py-3 px-6 bg-emerald-600 text-white font-semibold text-left">Quantity</th>
                        <th class="py-3 px-6 bg-emerald-600 text-white font-semibold text-left">Price</th>
                        <th class="py-3 px-6 bg-emerald-600 text-white font-semibold text-left">Added On</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    {% for product in products %}
                    <tr class="hover:bg-gray-50 transition duration-200">
                        <td class="py-4 px-6">{{ product.name }}</td>
                        <td class="py-4 px-6">{{ product.stock_quantity }}</td>
                        <td class="py-4 px-6">â‚¹{{ product.selling_price }}</td>
                        <td class="py-4 px-6">{{ product.created_at|date:"M d, Y" }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="4" class="text-center py-10 px-6 text-gray-500">
                            <p>No products found in your inventory.</p>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}